configureNetwork();

UDPWrapper wrapper;
    
cout << wrapper.initializeNetwork() << endl;

//set 1-byte audio-format
audioConfiguration.audioFormat = RTAUDIO_SINT8;

string input("It works!");
char *write = (char *)input.c_str();
int nFrames = input.size()+1;   //add null-termination character

//this must be in heap, a local (stack) value throws EFAULT ("Bad address")
void * read = malloc(nFrames);


cout << wrapper.process(read, write, nFrames, 0, 0, NULL) << endl;

std::string result((char *)read, nFrames);
cout <<  "Input: " << input << endl;
cout << "Output: " << result << endl;